# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã!

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ LocaleDataException
**–ü—Ä–æ–±–ª–µ–º–∞**: `LocaleDataException: Locale data has not been initialized`

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ `main.dart`:
  ```dart
  await initializeDateFormatting('ru', null);
  ```
- –î–æ–±–∞–≤–ª–µ–Ω—ã fallback –¥–ª—è DateFormat –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ï—Å–ª–∏ —Ä—É—Å—Å–∫–∞—è –ª–æ–∫–∞–ª—å –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–§–∞–π–ª—ã**:
- `lib/main.dart` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- `lib/features/admin/presentation/widgets/create_goal_dialog.dart` - –¥–æ–±–∞–≤–ª–µ–Ω fallback
- `lib/features/admin/presentation/widgets/edit_goal_dialog.dart` - –¥–æ–±–∞–≤–ª–µ–Ω fallback
- `lib/features/admin/presentation/pages/manage_users_page.dart` - –¥–æ–±–∞–≤–ª–µ–Ω fallback

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è "–°–æ–æ–±—â–µ—Å—Ç–≤–æ"
**–ü—Ä–æ–±–ª–µ–º–∞**: Bottom nav bar "–°–æ–æ–±—â–µ—Å—Ç–≤–æ" –Ω–µ —Ä–∞–±–æ—Ç–∞–ª

**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ `CommunityPage`
- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ `initState` –≤ `didChangeDependencies`
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ `ref` –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª**: `lib/features/community/presentation/pages/community_page.dart`

### 3. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è "–°–æ–∑–¥–∞—Ç—å —Ü–µ–ª—å"
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `appendRow` –≤ GoogleSheetsService

---

## ‚úÖ –¢–µ–ø–µ—Ä—å –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ª–∏**:
   - –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
   - –û—Ç–∫—Ä–æ–π—Ç–µ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª—è–º–∏"
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Ü–µ–ª—å"
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ –Ω–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"
   - ‚úÖ –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫!

2. **–ù–∞–≤–∏–≥–∞—Ü–∏—è "–°–æ–æ–±—â–µ—Å—Ç–≤–æ"**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–°–æ–æ–±—â–µ—Å—Ç–≤–æ" –≤ bottom nav bar
   - ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ!

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:
```dart
// –í main.dart
await initializeDateFormatting('ru', null);
```

### Fallback –¥–ª—è DateFormat:
```dart
Future<String> _formatDate(DateTime date) async {
  try {
    return DateFormat('dd MMMM yyyy', 'ru').format(date);
  } catch (e) {
    return DateFormat('dd.MM.yyyy').format(date);
  }
}
```

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
```dart
// –ë—ã–ª–æ (–≤ initState):
Future.microtask(() => ref.read(...));

// –°—Ç–∞–ª–æ (–≤ didChangeDependencies):
@override
void didChangeDependencies() {
  super.didChangeDependencies();
  Future.microtask(() => ref.read(...));
}
```

---

**–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** ‚úÖ

